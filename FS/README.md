# 화일 구조

```
화일(file)  
 ├ 레코드(record)  
 │ ├ 필드(field) => attribute or data item)  
 │ ├ 필드  
 │ ├ ......  
 ├ 레코드  
 │ ├ 필드  
 │ ├ 필드  
 │ ├ ......  
 ├ ......  
 │ ├ ......  
```

화일 구조는 디스크에 저장할 데이터의 표현과 테이터를 접근하기 위한 연산의 조합

### 데이터를 화일로 구성하는 이유

- 메인 메모리에 적재하기에는 양이 너무 많음
- 프로그램은 특정 시간에 데이터의 일부만 접근
    - 데이터 전부를 메인 메모리에 적재할 필요는 없음
- 데이터를 특정 프로그램 수행과 독립적으로 보관
    - 데이터의 독립성 유지

### 기능에 따른 분류

- 마스터 화일(master file): 영속성, 현재성 
- 트랜잭션 화일(transaction file): 마스터 화일의 변경 내용을 저장
- 보고서 화일(report file): 출력물(하드카피, 단말장치화면)
- 작업 화일(work file): 임시 화일, 한 프로그램의 출력 데이터를 다음 프로그램의 입력 데이터로 전달
- 프로그램 화일(program file): 명령어
- 텍스트 화일(text file): 텍스트(문자, 숫자 등)

### 접근하는 형태에 따른 구분

- 입력
- 출력
- 입출력

### 화일의 연산

- 생성(creation)
- 기록(write): 갱신(update), 삽입(insert), 삭제(delete)
- 판독(read)
- 삭제(delete)
- 개방(open)과 폐쇄(close)

### 화일 구조의 선정 요소

- 주 기억 장치
    - 주요 연산의 수행 횟수
    - 데이터 접근 시간이 일정
- 보조 저장 장치
    - 보조 저장 장치의 접근 횟수
    - 데이터 접근 시간이 주 기억 장치보다 훨씬 길다.

#### 화일 구조의 선정 요소

- 가변성
    - 화일의 전체 레코드 수에 대해 추가되거나 삭제되는 레코드의 수
- 활동성
    - 주어진 기간 동안에 총 레코드 수에 대해 접근한 레코드 수의 비율
    - 활동성이 높으면 순차 화일 구조에 적합
- 사용 빈도 수
    - 사용 빈도가 높으면 임의 접근 구조 유리
    - 사용 빈도가 낮으면 순차 접근 구조 유리
- 응답 시간
    - 검색이나 갱신을 요구하는 지연시간
    - 빠른 응답 시간 조건에는 임의 접근 방법
    - 정렬된 키를 이용한 순차 접근 방법
- 화일 크기
    - 레코드의 수와 길이가 화일 크기를 결정
    - 시간이 지남에 따라 화일 크기 성장(레코드의 길이 확장, 레코드 수 증가)
- 접근 유형
    - 연산의 유형: 갱신 / 판독
    - 접근 방식: 임의 / 순차

### 연습문제

1. 데이터 레코드들을 메인 메모리에 저장하지 않고 보조 저장 장치에 화일로 구성하는 이유를 설명해보라.
2. 대부분의 컴퓨터 시스템에서는 여러 가지 화일 조직 방법을 제공하고 있다. 그 이유는 무엇인가를 구체적으로 설명해보라.
3. 화일을 사용되는 기능에 따라 분류해보고, 간단히 설명해보라.
4. 화일에 대해 수행할 수 있는 일반적인 연산을 열거하고 설명해보라.
5. 어떤 기관의 특정 업무를 선정하여 그 업무를 전산화하기 위한 시스템 흐름도를 작성하라. 마스터 화일, 트랜잭션 화일, 보고서 화일, 작업 화일, 프로그램 화일을 각각 명시하고, 그 밖에 다른 형태의 화일을 추가할 수 있으면 명시해보라.
6. 화일 구조 방법을 선택할 때 고려해야 될 요소에는 어떤 것이 있는지 알아보고 설명하라.
7. 일괄 처리와 대화식 처리에 각각 적절한 화일 조직 방법의 특징을 설명해보라.

---